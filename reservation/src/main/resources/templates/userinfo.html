<!DOCTYPE html>
<html lang="ja" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ユーザー情報選択</title>
	<link rel="stylesheet" th:href="@{/css/styles.css}">
</head>

<body>

	<header>
		<h1>ユーザー情報選択</h1>
	</header>

	<main>
		<p th:text="'選択されたプラン: ' + ${selectedPlan.name} + '（¥' + ${selectedPlan.price} + '）'"></p>
		<p th:text="'選択された日時: ' + ${selectedDate}"></p>

		<form action="/confirm" method="POST">
			<!-- ユーザー情報を入力するフォーム -->
			<input type="text" name="userName" placeholder="お名前" required />
			<input type="tel" name="userPhone" placeholder="電話番号" pattern="^\d{2,4}-\d{2,4}-\d{4}$" required />
			<input type="email" name="userEmail" placeholder="メールアドレス" required />

			<!-- hidden フィールドでプラン情報と日時情報を送信 -->
			<input type="hidden" name="selectedPlanId" th:value="${selectedPlan.id}" />
			    <input type="hidden" name="selectedPlanName" th:value="${selectedPlan.name}" />
			    <input type="hidden" name="selectedPlanPrice" th:value="${selectedPlan.price}" />
			    <input type="hidden" name="selectedDate" th:value="${selectedDate}" />

			<button type="submit">予約確認へ</button>
		</form>

		<!-- 戻るボタン -->
		<a href="/reservation/plans" class="back-button">プラン選択へ戻る</a>

	</main>

</body>
</html>